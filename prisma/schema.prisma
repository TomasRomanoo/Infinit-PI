generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

model vehicle {
  idvehicle          Int             @id @default(autoincrement())
  name               String
  plate              String          @unique(map: "plate_UNIQUE")
  detail             String
  year               Int
  price_per_day      Float
  long_description   String
  images             image[]
  specifications     specification[]
  category           category        @relation(fields: [categoryIdcategory], references: [idcategory])
  categoryIdcategory Int
  model              model?          @relation(fields: [modelIdmodel], references: [idmodel])
  modelIdmodel       Int?
  deleted            Boolean
}

model brand {
  idbrand Int     @id @default(autoincrement())
  name    String  @unique(map: "name_UNIQUE")
  url     String
  models  model[]
  deleted Boolean
}

model model {
  idmodel      Int       @id @default(autoincrement())
  name         String    @unique(map: "name_UNIQUE")
  vehicles     vehicle[]
  brand        brand?    @relation(fields: [brandIdbrand], references: [idbrand])
  brandIdbrand Int?
  deleted      Boolean
}

model user {
  iduser         Int       @id @default(autoincrement())
  first_name     String
  last_name      String
  phone          String
  email          String    @unique(map: "email_UNIQUE")
  identification String
  password       String
  role           role      @relation(fields: [idrole], references: [idrole])
  idrole         Int       @default(2)
  addresses      address[]
  deleted        Boolean
}

model address {
  idaddress  Int     @id @default(autoincrement())
  address    String
  city       String
  country    String
  zip_code   Int
  user       user?   @relation(fields: [userIduser], references: [iduser])
  userIduser Int?
  deleted    Boolean
}

model role {
  idrole  Int     @id @default(autoincrement())
  name    String
  users   user[]
  deleted Boolean
}

model image {
  idimage          Int     @id @default(autoincrement())
  url              String
  vehicle          vehicle @relation(fields: [vehicleIdvehicle], references: [idvehicle])
  vehicleIdvehicle Int
  deleted          Boolean
}

model category {
  idcategory Int       @id @default(autoincrement())
  name       String    @unique(map: "category_UNIQUE")
  url        String
  vehicles   vehicle[]
  deleted    Boolean
}

model specification {
  idspecification  Int     @id @default(autoincrement())
  name             String
  url              String
  vehicle          vehicle @relation(fields: [vehicleIdvehicle], references: [idvehicle])
  vehicleIdvehicle Int
  deleted          Boolean
}
